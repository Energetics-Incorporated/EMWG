<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Database of State Water Policies Affecting Energy</title>
<script>
paceOptions = {
  ghostTime: 1200,
  restartOnPushState: false,
  elements: {
    selectors: ['.btn-vwqs']
  }
};
</script>
<link href="css/progress.css" rel="stylesheet" media="screen">
<script src="js/pace.min.js"></script>
<link href="fonts/fonts.css" rel="stylesheet">
<link href="css/styles.css" rel="stylesheet" media="screen">
<link href="https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="css/jquery.dataTables.yadcf.css" rel="stylesheet">
<link href="css/buttons.1.3.1.dataTables.min.css" rel="stylesheet">
<link href="yadcf-master/select2.css" rel="stylesheet">
<link href="jquery-ui-1.12.0.custom/jquery-ui.min.css" rel="stylesheet">
<link href="https://code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css" rel="stylesheet" type="text/css" />
<link href="js/jqvmap/jqvmap.min.css" rel="stylesheet">
<link href="css/custom.css" rel="stylesheet">
<link rel="stylesheet" href="js/jquery.fancybox.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js" integrity="sha256-eGE6blurk5sHj+rmkfsGYeKyZx3M4bG+ZlFyA7Kns7E=" crossorigin="anonymous"></script>
<script src="src/tabletop.js"></script>
<script src="js/handlebars-v4.0.5.js"></script>
<script src="js/underscore.js"></script>
<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
<script src="js/jquery.dataTables.yadcf.js"></script>
<script src="js/dataTables.buttons.1.3.1.min.js"></script>
<script src="js/buttons.colVis.1.3.1min.js"></script>
<script src="yadcf-master/select2.js"></script>
<script src="js/linkify.min.js"></script>
<script src="js/linkify-jquery.min.js"></script>
</head>

<body>
<div id="wait">The Energy-Water Policy Database is currently working on loading 1,700+ records.<br>You'll be searching, sorting, and exploring the data shortly!</div>
<div class="globalWrapper" style="opacity:0;">	
	<div id="masthead" style="opacity:0;">
		<div class="inner">
			<header>
				<h1>Energy-Water Policy Database</h1>
				<h2>A database of U.S. state-level water policies and programs affecting energy systems <strong>BETA</strong></h2>
				<h3>U.S. Department of Energy (DOE), Office of Energy Policy and Systems Analysis (EPSA)</h3>
				<p>This draft database is a &ldquo;beta&rdquo; version and a work-in-progress. To submit comments, feedback, or ideas related to the draft database, please send an email to <a href="mailto:EPSA.database@hq.doe.gov" target="_blank">EPSA.database@hq.doe.gov</a>.  
				</p>
			</header>
			<nav>
				<ul>
					<li><a href="#" class="showOverview">Overview</a></li>
					<li><a data-fancybox="PAGE" data-type="inline" data-src="#Maps" class="showModal" href="javascript:;">Maps</a></li>
					<li><a data-fancybox="PAGE" data-type="inline" data-src="#glossary" class="showModal" href="javascript:;">Glossary</a></li>
					<li><a data-fancybox="PAGE" data-type="inline" data-src="#About" class="showModal" href="javascript:;">About</a></li>
					<li><a data-fancybox="PAGE" data-type="inline" data-src="#Resources" class="showModal" href="javascript:;">DOE Resources</a></li>
					<li><a data-fancybox="PAGE" data-type="inline" data-src="#Contact" class="showModal" href="javascript:;">Contact</a></li>
				</ul>
			</nav>
		</div>
	</div>
	<!-- /#masthead -->	
	<div id="overviewWrap" class="inner">
		<div id="overview">
			<div id="overviewLeft">
				<div class="inner">
					<div id="placeholder">
						<h2>Overview</h2>
						
						<p>This draft database provides an extensive source of key information about state-level water policies and programs that are relevant to energy systems in the United States. The goals of the database are to facilitate improved policy analysis, modeling, visualization, and communication by states, industry, utilities, academia, federal agencies, and other stakeholders. There are more than 1,900 policy entries in the draft database, including:</p>
						<ul>
							<li>State and national pollutant discharge elimination system (PDES and NPDES) permitting programs affecting electricity generation and oil and gas production facilities</li>
							<li>Underground injection control permitting for the oil and gas sector</li>
							<li>Policies affecting surface water rights and groundwater rights</li>
							<li>Water quality standards affecting energy systems</li>							
							<li>Oil and gas development and hydraulic fracturing water regulations</li>
							<li>River and/or dam operations affecting hydropower and/or thermoelectric cooling</li>
							<li>Water regulations impacting electric generation</li>
						</ul>
						<p>Each policy entry includes searchable fields such as jurisdiction, dates enacted, energy subsector affected, water body affected, relevant statute, contact information of implementing authority, and a concise summary of the policy. The full draft database is also downloadable in <a href="https://docs.google.com/spreadsheets/d/1xQ5IjvU6H6LOqtYaJhiZo93lq5J6N0xiViZSEZpHQd4/edit?usp=sharing" target="_blank">spreadsheet format</a>.</p>
						<p>Explore the draft database by using the filters below or clicking on a state to the right</p>						
					</div>
					<div id="stateSummary"> </div>
					<!--
					<span onclick="yadcf.exFilterExternallyTriggered (oTable, [[2, 'Federal']]);">Federal</span>
					<span id="external_filter_container_2">Federal</span>					
					<div class="select2-container select2-container-multi">
						<div class="yadcf-filter-wrapper">							
							<select multiple="" data-placeholder="Select values" class="yadcf-filter" onchange="yadcf.doFilterMultiSelect(this, '-searchable-table', 2, 'contains');" onkeydown="yadcf.preventDefaultForEnter(event);" onmousedown="yadcf.stopPropagation(event);" onclick="yadcf.stopPropagation(event);" tabindex="-1">
								<option value="Federal">Federal</option>
								<option value="Local">Local</option>
								<option value="Regional">Regional</option>
								<option value="State">State</option>
							</select>
							<button type="button" onmousedown="yadcf.stopPropagation(event);" onclick="yadcf.stopPropagation(event);yadcf.doFilter('clear', '-searchable-table', 2); return false;" class="yadcf-filter-reset-button">x</button>							
						</div>
					</div>
					-->
					<div id="external_filter_container_wrapper">
						<div id="some_data" class="hide"></div>
					</div>
				</div>
			</div>        
			<div id="overviewRight">
				<div id="vmap"></div>
			</div>
			<a href="#" class="toggleDiv">Hide<span class="icon-chevron-up"></span></a> </div>
	</div>
<script type="text/javascript">

$(".toggleDiv").click(function() {
  $("#overview").slideToggle("slow", function(){
	$(".toggleDiv").toggleClass("active", $(this).is(":visible"));
  });
});

$(".showOverview").click(function(){
	$("#overview").slideDown("slow", "easeOutBounce");	
	$("#placeholder").show();
	$(".stateSummaryList").hide();
});

$(".showOverview").click(function(){	
	$("#overview").effect( "bounce", {times:3, distance:5, direction:"left"}, 400 );
	$("#placeholder").show();
});

</script>
	<table id="searchable-table" cellpadding="5" cellspacing="0" border="0" width="100%"  class="display">
		<thead>
			<tr>
				<th class="colName">Name</th>
				<th class="colState">State</th>
				<th class="colJurisdiction">Jurisdiction</th>
				<th class="colPolicy">Type of Policy or Program</th>
				<th class="colRights">Water Rights Doctrine</th>
				<th class="colWaterbody">Applicable Waterbody Types</th>
				<th class="secondary">Measured Area</th>
				<th class="secondary">Attribute</th>
				<th class="secondary">Unit</th>
				<th class="secondary">Jan</th>
				<th class="secondary">Feb</th>
				<th class="secondary">Mar</th>
				<th class="secondary">Apr</th>
				<th class="secondary">May</th>
				<th class="secondary">Jun</th>
				<th class="secondary">Jul</th>
				<th class="secondary">Aug</th>
				<th class="secondary">Sep</th>
				<th class="secondary">Oct</th>
				<th class="secondary">Nov</th>
				<th class="secondary">Dec</th>
				
			</tr>
		</thead>
		<tbody id="content">
		</tbody>
		<tfoot id="selectColumns">
			<tr>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				
			</tr>
		</tfoot>
	</table>
<!--	<div id="loading"></div> -->
	<footer style="opacity:0;">
		<p>Copyright &copy; 2016</p>
		<small>Photograph by <a href="https://www.flickr.com/photos/lng0004/9731936134/in/photolist-fPYHyj-bB7cxt-nAkuos-hSkW9j-d9X6nB-dmTB3w-ieL4Js-avnYB5-nQJEKq-oU8SML-bukFcS-nmFVCB-mu5at6-5DiCwm-8gUb8B-5X7sgo-3tgEQW-3XivvG-6swjvL-oGXNQ2-adjxUn-kxFhw4-aWvdR8-bd5peT-kfmx5d-aWvebR-8CD8cs-9Aupc9-aWveNZ-nrA5q5-nrzZ2k-bxZmo6-agp9Dx-ec4Vqm-kPUmvz-dXJeVo-e3GmYp-567oZm-doNK6C-nyKcze-34cybZ-Jmcszf-fpZ4F5-arnNj6-7Zn1FA-atqydq-5TFksA-5ta65F-cWkn4b-H1SkmF" target="_blank">Linh Nguyen</a></small> </footer>
	<script id="datatable-template" type="text/x-handlebars-template">
		{{#each elements}}
            <tr>
				
<td data-title="Name:"><a data-anchor="{{ID}}" href="#modal-{{ID}}">{{Name}}</a>
<div class="modal2" id="modal-{{ID}}">
  <div class='modal-content2'>
    <div class="contentWrap">
        <a class="close" href="#">close</a>
        <h2 class="Name">{{Name}}</h2>
		<div class="colWrap">
        <div id="colLeft"><p class="Source"><strong>State:</strong> <em>{{State}}</em></p>
<p class="Jurisdiction"><strong>Jurisdiction:</strong> {{Jurisdiction}}</p>
<p class="{{Type}}"><strong>Type:</strong> {{Type}}</p>
<p><strong>Administrator:</strong> {{Administrator}}</p>
<p><strong>Key Dates:</strong> {{Key-dates}}</p>
<p><strong>Related Programs:</strong> {{Related-programs}}</p>
<p><strong>Energy Subsector:</strong> {{Energy-subsector}}</p>
<p><strong>Target Actor:</strong> {{Targeted-Actor}}</p>
<p><strong>Applicable Waterbody Types:</strong> {{Applicable-waterbody-types}}</p>
<p><strong>Water Rights Doctrine:</strong> {{Water-rights-doctrine}}</p>
<p><strong>Are water rights transferrable?:</strong> {{Are-water-rights-transferrable}}</p>
<p><strong>Is a water rights permit required?:</strong> {{Is-a-water-rights-permit-required}}</p>
<p><strong>Are facilities required to register or report water use for water rights?:</strong> {{Are-facilities-required-to-register-or-report-water-use-for-water-rights}}</p>
<p><strong>Are water rights lost by non-use?:</strong> {{Are-water-rights-lost-by-non-use}}</p>
<p><strong>Does the state use water markets or banks?:</strong> {{Does-the-state-use-water-markets-or-banks?}}</p>
<p><strong>Expected frequency of updates:</strong> {{Expected-frequency-of-updates}}</p>
<p><strong>Regulatory Authority:</strong> {{Regulatory-authority}}</p>
<p><strong>State or Federal Statutes:</strong> {{State-or-federal-statutes}}</p>
<p><strong>Contact Information:</strong> {{enhance Contact-information}}</p></div>
        <div id="colRight"><h3>Description:</h3>
<p>{{Description}}</p>
<h3>Primary Website:</h3>
<p>{{enhance Primary-website}}</p>
<h3>Additional Websites:</h3>
<p>{{enhance Additional-websites}}</p></div>
		</div>
    </div>
  </div>
</div>

</td>
<td data-title="State:">{{State}}</td>
<td data-title="Jurisdiction:">{{Jurisdiction}}</td>
<td data-title="Type-of-Policy-or-Program:">{{Type-of-Policy-or-Program}}</td>
<td data-title="Water Rights Doctrine:">{{Water-rights-doctrine}}</td>

<td data-title="Applicable-waterbody-types">{{Applicable-waterbody-types}}</td>
<td data-title="Measured-area:">{{Measured-area}}</td>
<td data-title="Attribute:">{{Attribute}}</td>
<td data-title="Unit:">{{Unit}}</td>
<td data-title="Jan:">{{Jan}}</td>
<td data-title="Feb:">{{Feb}}</td>
<td data-title="Mar:">{{Mar}}</td>
<td data-title="Apr:">{{Apr}}</td>
<td data-title="May:">{{May}}</td>
<td data-title="Jun:">{{Jun}}</td>
<td data-title="Jul:">{{Jul}}</td>
<td data-title="Aug:">{{Aug}}</td>
<td data-title="Sep:">{{Sep}}</td>
<td data-title="Oct:">{{Oct}}</td>
<td data-title="Nov:">{{Nov}}</td>
<td data-title="Dec:">{{Dec}}</td>				
            </tr>
		{{/each}}
			

</script> 
	<script src="js/datatable-tabletop-load.js"></script> 
	<script type="text/javascript">

Handlebars.registerHelper('cleanConcat', function() {
        var argument        = null;
        var data            = null;
        var cleanedString   = '';
        var cleanedStrings  = [];

        for ( var i = 0; i < arguments.length; ++i ) {
            argument = arguments[ i ];

            // Handlebars passes in extra arguments, so you can't just loop through
            // arguments itself
            if ( typeof argument === 'object' && argument.name === 'cleanConcat' ) {
                data = argument.data.root;

                for ( var prop in data ) {

                    // You can do any type of cleaning that you want here.
                    // As an example I forced each string to lower case and replaced spaces with a "-"
                    cleanedString = data[ prop ].toLowerCase().replace( /\s/g, '-' );
                    cleanedStrings.push( cleanedString );
                }
                return cleanedStrings.join( '-' );
            }
        }
    });
	
Handlebars.registerHelper('breaklines', function(text) {
    text = Handlebars.Utils.escapeExpression(text);
    text = text.replace(/(\r\n|\n|\r)/gm, '<br>');
    return new Handlebars.SafeString(text);
});	

Handlebars.registerHelper('wrapURL', function(str) {
    str = Handlebars.Utils.escapeExpression(str);

    var matches = str.match(/http\S+/);
    var wrapped = matches.map(function(v, i, a) {
        return '<a href="' + v + '">' + v + '</a>';
    });

    for (var i = 0; i < matches.length; i++) {
        str = str.replace(matches[i], wrapped[i]);
    }

    return new Handlebars.SafeString(str)
});


(function(){
    // defines markup enhancement regex
    var protocol = /(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim
      , scheme   = /(^|[^\/])(www\.[\S]+(\b|$))/gim;
			
    /*
     * Registers a Helper method with handlebars which, given a string of
     * plain text or existing markup, provides enhancements of plain text 
     * URLs, converting them to their respective anchor tag equivilents.=
     */
    Handlebars.registerHelper('enhance', function(text) {
	text = text.replace( protocol, '<a href="$1" target="_blank">$1</a>');
	text = text.replace( scheme,   '$1<a href="http://$2" target="_blank">$2</a>' );
	return new Handlebars.SafeString( text );
    });
}());

</script>
<script src="js/jqvmap/jquery.vmap.min.js"></script> 
<script src="js/jqvmap/maps/jquery.vmap.usa.js"></script> 
<script type="text/javascript">
$(window).bind("load", function() {

     $('.globalWrapper').on('click','.btn-vwqs',function() {
        $(this).toggleClass("active");
    });
	
	//$("#loading").fadeOut("slow");    
	
	$(function() {
		 $( document ).tooltip({
               position: {
                  my: "center bottom",
                  at: "center top-10",
                  collision: "none"
				  }
               });
	});
	
	jQuery('#vmap').vectorMap({
		map: 'usa_en',
		backgroundColor: null,
		color: 'rgba(42,63,84,0.85)',
		enableZoom: true,
		showTooltip: true,
		selectedColor: null,
		borderColor: '#ffffff',
		hoverColor: 'rgba(42,63,84,1.0)',
		onRegionClick: function (event, code, region) {
			switch (code) {
				case "al":myPillFilter('Alabama');$("#state-1").show().siblings("div").hide();break;
				case "ak":myPillFilter('Alaska');$("#state-2").show().siblings("div").hide();break;
				case "az":myPillFilter('Arizona');$("#state-3").show().siblings("div").hide();break;
				case "ar":myPillFilter('Arkansas');$("#state-4").show().siblings("div").hide();break;
				case "ca":myPillFilter('California');$("#state-5").show().siblings("div").hide();break;
				case "co":myPillFilter('Colorado');$("#state-6").show().siblings("div").hide();break;
				case "ct":myPillFilter('Connecticut');$("#state-7").show().siblings("div").hide();break;
				case "dc":myPillFilter('District of Columbia');break;
				case "de":myPillFilter('Delaware');$("#state-8").show().siblings("div").hide();break;
				case "fl":myPillFilter('Florida');$("#state-9").show().siblings("div").hide();break;
				case "ga":myPillFilter('Georgia');$("#state-10").show().siblings("div").hide();break;
				case "hi":myPillFilter('Hawaii');$("#state-11").show().siblings("div").hide();break;
				case "id":myPillFilter('Idaho');$("#state-12").show().siblings("div").hide();break;
				case "il":myPillFilter('Illinois');$("#state-13").show().siblings("div").hide();break;
				case "in":myPillFilter('Indiana');$("#state-14").show().siblings("div").hide();break;
				case "ia":myPillFilter('Iowa');$("#state-15").show().siblings("div").hide();break;
				case "ks":myPillFilter('Kansas');$("#state-16").show().siblings("div").hide();break;
				case "ky":myPillFilter('Kentucky');$("#state-17").show().siblings("div").hide();break;
				case "la":myPillFilter('Louisiana');$("#state-18").show().siblings("div").hide();break;
				case "me":myPillFilter('Maine');$("#state-19").show().siblings("div").hide();break;
				case "md":myPillFilter('Maryland');$("#state-20").show().siblings("div").hide();break;
				case "ma":myPillFilter('Massachusetts');$("#state-21").show().siblings("div").hide();break;	
				case "mi":myPillFilter('Michigan');$("#state-22").show().siblings("div").hide();break;
				case "mn":myPillFilter('Minnesota');$("#state-23").show().siblings("div").hide();break;
				case "ms":myPillFilter('Mississippi');$("#state-24").show().siblings("div").hide();break;
				case "mo":myPillFilter('Missouri');$("#state-25").show().siblings("div").hide();break;				
				case "mt":myPillFilter('Montana');$("#state-26").show().siblings("div").hide();break;				
				case "ne":myPillFilter('Nebraska');$("#state-27").show().siblings("div").hide();break;
				case "nv":myPillFilter('Nevada');$("#state-28").show().siblings("div").hide();break;
				case "nh":myPillFilter('New Hampshire');$("#state-29").show().siblings("div").hide();break;
				case "nj":myPillFilter('New Jersey');$("#state-30").show().siblings("div").hide();break;
				case "nm":myPillFilter('New Mexico');$("#state-31").show().siblings("div").hide();break;				
				case "ny":myPillFilter('New York');$("#state-32").show().siblings("div").hide();break;
				case "nc":myPillFilter('North Carolina');$("#state-33").show().siblings("div").hide();break;
				case "nd":myPillFilter('North Dakota');$("#state-34").show().siblings("div").hide();break;
				case "oh":myPillFilter('Ohio');$("#state-35").show().siblings("div").hide();break;
				case "ok":myPillFilter('Oklahoma');$("#state-36").show().siblings("div").hide();break;
				case "or":myPillFilter('Oregon');$("#state-37").show().siblings("div").hide();break;
				case "pa":myPillFilter('Pennsylvania');$("#state-38").show().siblings("div").hide();break;
				case "ri":myPillFilter('Rhode Island');$("#state-39").show().siblings("div").hide();break;
				case "sc":myPillFilter('South Carolina');$("#state-40").show().siblings("div").hide();break;
				case "sd":myPillFilter('South Dakota');$("#state-41").show().siblings("div").hide();break;
				case "tn":myPillFilter('Tennessee');$("#state-42").show().siblings("div").hide();break;
				case "tx":myPillFilter('Texas');$("#state-43").show().siblings("div").hide();break;
				case "ut":myPillFilter('Utah');$("#state-44").show().siblings("div").hide();break;
				case "vt":myPillFilter('Vermont');$("#state-45").show().siblings("div").hide();break;
				case "va":myPillFilter('Virginia');$("#state-46").show().siblings("div").hide();break;				
				case "wa":myPillFilter('Washington');$("#state-47").show().siblings("div").hide();break;
				case "wv":myPillFilter('West Virginia');$("#state-48").show().siblings("div").hide();break;
				case "wi":myPillFilter('Wisconsin');$("#state-49").show().siblings("div").hide();break;				
				case "wy":myPillFilter('Wyoming');$("#state-50").show().siblings("div").hide();break;
			}
		}
	});

});
</script>
	<div class="modal" id="glossary" data-popup="popup-1">
		<div class="modal-content pageWrap">
			<div class="contentWrap pageContent">
				<table cellspacing="0" cellpadding="5" border="0" width="100%">
					<caption>
					Glossary
					</caption>
					<col width="20%">
					<col width="80%">
					<tr>
						<td width="20%">Technology-Based Effluent Limits (TBELs)</td>
						<td width="80%">TBELs are developed based on available treatment technologies, and vary by source type (new vs. existing source and direct discharge vs. discharge to publicly owned treatment works) and pollutant type (toxic, conventional, and nonconventional). <br>
							<br>
							TBELs for direct discharges from existing facilities fall under three categories: Best Practicable Control Technology Currently Available (BPT) (all pollutant types); Best Conventional Pollutant Control Technology (BCT) (conventional pollutants); Best Available Technology Economically Achievable (BAT) (toxic and non-conventional pollutants). BPT limitations are less stringent than BCT and BAT limitations, and must be met at an earlier deadline when TBELs are updated. <br>
							<br>
							TBELs for direct discharges from new facilities are classified in New Source Performance Standards (NSPS). <br>
							<br>
							TBELs for discharge from a source to publicly owned treatment works fall under two categories: existing sources must meet Pretreatment Standards for Existing Sources (PSES) and new sources must meet Pretreatment Standards for New Sources (PSNS).]</td>
					</tr>
					<tr>
						<td width="20%">Best Practicable Control Technology Currently Available (BPT) </td>
						<td width="80%">&quot;BPT is the first level of technology-based effluent controls for direct dischargers and it applies to all types of pollutants (conventional, nonconventional, and toxic). The Federal Water Pollution Control Act (FWPCA) amendments of 1972 require that when EPA establishes BPT standards, it must consider the industry-wide cost of implementing the technology in relation to the pollutant-reduction benefits. EPA also must consider the age of the equipment and facilities, the processes employed, process changes, engineering aspects of the control technologies, non-water quality environmental impacts (including energy requirements), and such other factors as the EPA Administrator deems appropriate [CWA section 304(b)(1)(B)]. Traditionally, EPA establishes BPT effluent limitations on the basis of the average of the best performance of well-operated facilities in each industrial category or subcategory. Where existing performance is uniformly inadequate, BPT may reflect higher levels of control than currently in place in an industrial category if the Agency determines that the technology can be practically applied. See CWA sections 301(b)(1)(A) and 304(b)(1)(B).&quot; (NPDES Permit Writers Manual, http://www.epa.gov/sites/production/files/2015-09/documents/pwm_chapt_05.pdf)</td>
					</tr>
					<tr>
						<td width="20%">Best Conventional Pollutant Control Technology (BCT)</td>
						<td width="80%">&quot;The 1977 CWA requires EPA to identify effluent reduction levels for conventional pollutants associated with BCT for direct discharges from existing industrial point sources. As with BPT, when establishing BCT the Agency considers the age of the equipment and facilities, the processes employed, process changes, engineering aspects of the control technologies, non-water quality environmental impacts (including energy requirements), and such other factors as the EPA Administrator deems appropriate [CWA section 304(b)(4)(B)]. In addition, EPA also considers a two-part cost reasonableness test, as required by CWA section 304(b)(4)(B), which includes (1) consideration of the reasonableness of the relationship between the costs of attaining a reduction in effluent and the effluent reduction benefits derived and (2) a comparison of the cost and level of reduction of such pollutants from the discharge from POTWs to the cost and level of reduction of such pollutants from a class or category of industrial sources. EPA explained its methodology for developing BCT limitations in detail in 51 FR 24974, July 9, 1986. See CWA sections 301(b)(2)(E) and 304(b)(4).&quot; (NPDES Permit Writers Manual, http://www.epa.gov/sites/production/files/2015-09/documents/pwm_chapt_05.pdf)</td>
					</tr>
					<tr>
						<td width="20%">Best Available Technology Economically Achievable (BAT)</td>
						<td width="80%">&quot;For the direct discharge of toxic and non-conventional pollutants, EPA promulgates effluent guidelines based on BAT. The FWPCA amendments of 1972 require EPA to consider the cost of achieving effluent reductions when defining BAT; however, they do not specifically require EPA to balance the cost of implementation against the pollution reduction benefit. The technology selected for BAT must be economically achievable [CWA section 301(b)(2)(A)]. EPA generally defines BAT on the basis of the performance associated with the best control and treatment measures that facilities in an industrial category are capable of achieving. Like BPT and BCT, other factors EPA must consider in assessing BAT include the age of equipment and facilities involved, the process employed, process changes, non-water quality environmental impacts, including energy requirements, and other such factors as the EPA Administrator deems appropriate [CWA section 304(b)(2)(B)]. The Agency retains considerable discretion in assigning the weight accorded to these factors. BAT limitations may be based on effluent reductions attainable through changes in a facility&rsquo;s processes and operations. Where existing performance is uniformly inadequate, BAT may reflect a higher level of performance than is currently being achieved within a subcategory on the basis of technology transferred from a different subcategory or category. BAT may be based on process changes or internal controls, even when those technologies are not common industry practice. See CWA sections 301(b)(2)(A), (C), (D) and (F) and 304(b)(2).&quot; (NPDES Permit Writers Manual, http://www.epa.gov/sites/production/files/2015-09/documents/pwm_chapt_05.pdf)</td>
					</tr>
					<tr>
						<td width="20%">New Source Performance Standards (NSPS)</td>
						<td width="80%">&quot;NSPS reflect effluent reductions that are achievable by direct dischargers based on the best available demonstrated control technology. New sources have the opportunity to install the best and most efficient production processes and wastewater treatment technologies at the time of construction. As a result, NSPS should represent the most stringent controls attainable through the application of the best available demonstrated control technology for all pollutants (i.e., conventional, nonconventional, and toxic pollutants). In establishing NSPS, EPA is directed to take into consideration the cost of achieving the effluent reduction and any non-water quality environmental impacts and energy requirements. See CWA section 306.&quot; (NPDES Permit Writers Manual, http://www.epa.gov/sites/production/files/2015-09/documents/pwm_chapt_05.pdf)</td>
					</tr>
					<tr>
						<td width="20%">Pretreatment Standards for Existing Sources (PSES)</td>
						<td width="80%">&quot;PSES are designed to prevent the discharge of pollutants that pass through, interfere with, or are otherwise incompatible with the operation of POTWs, including incompatibility with the POTW&rsquo;s chosen biosolids (sewage sludge) disposal methods. The categorical pretreatment standards for existing indirect dischargers are technology-based and are analogous to BAT. The general pretreatment regulations, which set forth the framework for the implementation of national pretreatment standards, are at Part 403. See CWA section 307(b).&quot; (NPDES Permit Writers Manual, http://www.epa.gov/sites/production/files/2015-09/documents/pwm_chapt_05.pdf)</td>
					</tr>
					<tr>
						<td width="20%">Pretreatment Standards for New Sources (PSNS)</td>
						<td width="80%">&quot;PSNS are designed to prevent the discharges of pollutants that pass through, interfere with, or are otherwise incompatible with the operation of POTWs. PSNS are to be issued at the same time as NSPS. New indirect dischargers have the opportunity to incorporate into their facilities the best available demonstrated technologies at the time of construction. The Agency considers the same factors in promulgating PSNS as it considers in promulgating NSPS. See CWA section 307(c).&quot; (NPDES Permit Writers Manual, http://www.epa.gov/sites/production/files/2015-09/documents/pwm_chapt_05.pdf)</td>
					</tr>
					<tr>
						<td width="20%">Toxic (priority) pollutants</td>
						<td width="80%">Pollutants defined in CWA section 307(a)(1) (and listed in § 401.15 and Appendix A of Part 423) and include 126 metals and manmade organic compounds. For additional information on toxic (priority) pollutants, see http://www.epa.gov/eg/toxic-and-priority-pollutants-under-clean-water-act. The full list of priority pollutants is available at http://www.epa.gov/sites/production/files/2015-09/documents/priority-pollutant-list-epa.pdf.</td>
					</tr>
					<tr>
						<td width="20%">Conventional pollutants</td>
						<td width="80%">Pollutants defined in CWA section 304(a)(4) and § 401.16 (BOD5, TSS, fecal coliform, pH, and oil and grease).</td>
					</tr>
					<tr>
						<td width="20%">Nonconventional pollutants</td>
						<td width="80%">Pollutants that do not fall under either of the above categories (conventional or toxic pollutants) and include parameters such as heat, chlorine, ammonia, nitrogen, phosphorus, chemical oxygen demand (COD), and whole effluent toxicity (WET).</td>
					</tr>
					<tr>
						<td width="20%">Prior appropriation doctrine</td>
						<td width="80%">The prior appropriation doctrine is also known as &quot;first in time, first in right&quot; and is typically found in western states. The first person to divert water for a beneficial use has a vested right to the water, and in times of drought, the senior water user has rights to all water. Water rights can be transferred without the transfer of physical property, and water rights are lost by non-use.</td>
					</tr>
					<tr>
						<td width="20%">(Modified/Regulated) riparian doctrine</td>
						<td width="80%">The riparian rights doctrine is typically found in eastern states and limits water use to landowners with riparian land. The landowner can make reasonable use of the watercourse, and during drought, water users share the shortage. Water rights cannot be transferred without the transfer of physical property, and water rights are not lost by non-use. Most states now use a regulated riparian system, which uses a permit system to allocate water usage.</td>
					</tr>
					<tr>
						<td width="20%">Reasonable use doctrine</td>
						<td width="80%">Also known as the American rule. Landowners are entitled to use the groundwater on their land for reasonable use; landowners must take neighboring water users into account and may not waste groundwater. If landowners exceed &quot;reasonable use,&quot; they are liable in damages.</td>
					</tr>
					<tr>
						<td width="20%">Absolute ownership doctrine</td>
						<td width="80%">Also known as the English rule. By owning the land, landowners own the groundwater contained beneath their property. As a result, a landowner may use as much groundwater as possible without taking neighboring water users into account. However, waste, malicious intent, and negligence are prohibited.</td>
					</tr>
					<tr>
						<td width="20%">Correlative rights doctrine</td>
						<td width="80%">Rights to groundwater are based on land ownership, but landowners overlying the same aquifer are limited to a &quot;reasonable&quot; share of total groundwater supply from that aquifer. This share is typically dependent on the amount of land owned.</td>
					</tr>
					<tr>
						<td width="20%">Prescriptive rights</td>
						<td width="80%">A prescriptive right is acquired through adverse possession of someone else's water right, similar to a &quot;squatter's right.&quot; These rights can only be granted by a court. </td>
					</tr>
					<tr>
						<td width="20%">Beneficial purpose doctrine</td>
						<td width="80%">Landowners may use underlying groundwater, but only if the withdrawal will not lower the water table, will not exceed the landowner's reasonable share of groundwater supply, and will not have a direct effect on surface water. </td>
					</tr>
					<tr>
						<td width="20%">Water Control Manuals</td>
						<td width="80%">Water Control Manuals outline policies, data protocols, project regulation schedules, and specifications for storage and releases from each reservoir in a given system. Water Control Manuals provide managers with guidance regarding multiple factors that must be evaluated to determine appropriate water management. These factors include, but are not limited to, power contract commitments, hydrologic and climatologic factors, downstream lake and basin-wide conditions, potential threats of flood and drought, and lake levels. <br>
							<br>
							The U.S. Army Corps of Engineers are responsible for preparing and updating Water Control Manuals. The Corps prescribes the policies and procedures to be followed in carrying out water management activities, including establishment and the  updating of water control plans for Corps and non-Corps projects, as required by Federal </td>
					</tr>
					<tr>
						<td width="20%">Grandfathered Right</td>
						<td width="80%">A grandfathered right occurs when holders of a right prior to the enactment of the policy are exempted from the specified water rights policy.</td>
					</tr>
					<tr>
						<td width="20%">Water Markets</td>
						<td width="80%">Water markets facilitate the transfer of water rights in situations or in basins in which new water rights are insufficient or unavailable. One function of a water market is to act as a water rights exchange, which lists information about water rights that are available for sale and faciliatates communication between parties. Another function is a water bank, which serves as a trust to hold existing but unneeded water rights and make them available for purchase by new users. In general, water markets serve only one water basin, since water rights are attached to physical quantities of water that cannot be transferred between locations.</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
	<div class="modal" id="About" data-popup="popup-2">
		<div class="modal-content pageWrap">
			<div class="contentWrap pageContent">
				<h2>About</h2>
				<p>The draft database was commissioned by the U.S. Department of Energy&rsquo;s (DOE) Office of Energy Policy and Systems Analysis (EPSA). Under contract to DOE, Energetics Incorporated researched and gathered the information for the draft database and developed the web-based tool.</p>
				<p>This draft database provides an extensive source of key information about state-level water policies and programs that are relevant to energy systems in the United States. The goals of the database are to facilitate improved policy analysis, modeling, visualization, and communication by states, industry, utilities, academia, federal agencies, and other stakeholders.</p>
				<p>This draft database is a &ldquo;beta&rdquo; version and a work-in-progress. To submit feedback, please send an email to <a href="mailto:EPSA.database@hq.doe.gov" target="_blank">EPSA.database@hq.doe.gov</a>.</p>
				<p>All data were gathered from public sources. Links and contact information are provided for users requiring further information.&nbsp;Users are encouraged to refer to these links for original source materials with additional details.</p>
				<p><em>Disclaimer:</em>&nbsp;<em>This work was prepared as an account of work sponsored by an agency of the United States Government. Neither the United States Government nor any agency thereof, nor any of their employees, nor any of their contractors, subcontractors or their employees, makes any warranty, express or implied, or assumes any legal liability or responsibility for the accuracy, completeness, or any third party&rsquo;s use or the results of such use of any information, apparatus, product, or process disclosed, or represents that its use would not infringe privately owned rights. Reference herein to any specific commercial product, process, or service by trade name, trademark, manufacturer, or otherwise, does not necessarily constitute or imply its endorsement, recommendation, or favoring by the United States Government or any agency thereof or its contractors or subcontractors. The views and opinions of authors expressed herein do not necessarily state or reflect those of the United States Government or any agency thereof, its contractors or subcontractors.</em></p>
			</div>
		</div>
	</div>
	
	<div class="modal" id="Resources" data-popup="popup-3">
		<div class="modal-content pageWrap">
			<div class="contentWrap pageContent">
				<h2>DOE Resources</h2>
				<h3>The Energy-Water Nexus</h3>
				<p>Energy and water systems are interconnected. Energy is required to extract, treat, and deliver water. On the other hand, water is used in multiple phases of energy production and electricity generation, from hydraulic fracturing and irrigating crops for biofuels to providing cooling water for thermoelectric power plants. Despite their interdependency, energy and water systems have been developed, managed, and regulated independently. The complexity at the energy-water nexus demands a coordinated and integrated DOE approach.</p>
				<p>Highlights of DOE’s work on the energy-water nexus:</p>
				<ul>
					<li><a href="https://energy.gov/epsa/energy-water-nexus" target="_blank">DOE's Office of Energy Policy and Systems Analysis: Energy-Water Nexus</a></li>
					<li><a href="https://www.energy.gov/under-secretary-science-and-energy/water-energy-tech-team" target="_blank">DOE's Energy-Water Nexus Crosscut Team</a></li>
				</ul>

			</div>
		</div>
	</div>
	
	<div class="modal" id="Contact" data-popup="popup-4">
		<div class="modal-content pageWrap">
			<div class="contentWrap pageContent">
				<h2>Contact</h2>
				<p>To submit comments, feedback, or ideas related to the draft database, please send an email to <a href="mailto:EPSA.database@hq.doe.gov" target="_blank">EPSA.database@hq.doe.gov</a>.</p>
				
			</div>
		</div>
	</div>
	
	<div class="modal" id="Maps" data-popup="popup-5">
		<div class="modal-content pageWrap">
			<div class="contentWrap pageContent">					
				<h2>Maps</h2>
				<div id="tabs">
					<div id="tabs-1">
						<h3>Surface Water Rights</h3>
							<img style="display:block;text-align:center;margin:auto;width:436px;height:auto;" src="images/sw-legend.png" alt="legend showing color codes for Water-rights-doctrine">
						<div class="mapWrap">								
							<div id="surfacewatermap"></div>							
							<div class="mapCaption"><p>Reporting thresholds for surface water use permits vary by state. The map shows the reporting threshold required by policies in each state in gallons per day (GPD). Many western states (where water resources are limited) have a threshold of 0, meaning that any surface water use must be reported. Many eastern states, where water is more abundant, have higher limits or no limits on what must be reported.</p></div>
						</div><!-- /.mapWrap -->
					</div><!-- /#tab-1 -->
					<div id="tabs-2">
						<h3>Groundwater Rights</h3>
						<img style="display:block;text-align:center;margin:auto;" src="images/gw-legend.png" alt="Groundwater color code for map">
						<div class="mapWrap">
							<div id="groundwatermap"></div>														
							<div class="mapCaption">
								<p>Groundwater rights doctrines vary significantly by state. The prior appropriation doctrine is more common in western states where water resources are limited, while reasonable use and beneficial purpose doctrines are more common in the East where water is more abundant.</p>
							</div>
						</div><!-- /.mapWrap -->
						<br style="clear:both;">
					</div><!-- /#tab-2 -->
					<div id="tabs-3">						
						<h3>Class I Hazardous Waste Underground Injection Control Program</h3>
						<img style="display:block;text-align:center;margin:auto;" src="images/uicHaz-legend.png" alt="color code for Class I Hazardous Waste Underground Injection Control Program map">
						<div class="mapWrap">
							<div id="uicHaz"></div>
							<div class="mapCaption">
								<p>Class I Hazardous Waste Underground Injection Control (UIC) program implementation varies across states. This program primarily covers disposal of hazardous sediments and catalysts from petroleum refining operations. About half of states have banned this type of injection, while the remainder are about evenly split between EPA administration and state administration of the injection program.</p>
							</div>
						</div><!-- /.mapWrap -->
						<br style="clear:both;">
					</div><!-- /#tab-3 -->
					<div id="tabs-4">						
						<h3>Class I Non-Hazardous Waste Underground Injection Control Program</h3>
						<img style="display:block;text-align:center;margin:auto;" src="images/uicHaz-legend.png" alt="color code for Class I Non-Hazardous Waste Underground Injection Control Program map">
						<div class="mapWrap">
							<div id="uicNonHaz"></div>
							<div class="mapCaption">
								<p>Class I Non-Hazardous Waste Underground Injection Control (UIC) program implementation varies across states. This program primarily covers disposal of non-hazardous sediments and catalysts from petroleum refining operations. Relative to Class I Hazardous Waste injection, fewer states have banned this type of injection.</p>
							</div>
						</div><!-- /.mapWrap -->
						<br style="clear:both;">
					</div><!-- /#tab-4 -->
					<div id="tabs-5">						
						<h3>Class II Underground Injection Control Program</h3>
						<img style="display:block;text-align:center;margin:auto;" src="images/uicHaz-legend.png" alt="color code for Class II Underground Injection Control Program map">
						<div class="mapWrap">
							<div id="uicClass2"></div>
							<div class="mapCaption">
								<p>Class II Underground Injection Control (UIC) program implementation varies across states. This program primarily covers disposal of brines that are brought to the surface during oil and gas production. Seven states have banned Class II injection, with most of the remainder administering the UIC program at the state level.</p>
							</div>
						</div><!-- /.mapWrap -->
						<br style="clear:both;">
					</div><!-- /#tab-5 -->
					
				</div><!-- /#tabs -->
				
		</div>
	</div>
</div>
<!-- /.globalWrapper -->
<script>
$.ajax({
	url: 'json/statesummaries.12.21.17.json',
	dataType: 'json',
	type: 'get',
	cache: false,
	success: function(data){
		//console.log(data);
		var stateSumData = '';
		$(data.statesummaries).each(function(index, value){		
			//console.log(value.State);
			stateSumData += '<div class="stateSummaryList" id="state-' + value.ID + '">' + '<h2 class="ssheading">State Summary: ' + value.State + '</h2><div class="summary">' + value.Summary + '</div></div>';			
		});
		
		$("#stateSummary").append(stateSumData);
	}
});
</script>
<script src="js/jquery.fancybox.min.js"></script>
<script>
	$(document).ready(function(){
		
		jQuery('#surfacewatermap').vectorMap({		
			map: 'usa_en',
			backgroundColor: null,
			color: '#D1E7F1',
			enableZoom: true,
			showTooltip: true,
			//showLabels: true,
			selectedColor: null,
			borderColor: '#ffffff',
			hoverColor: null,
			colors: {
			al:'#37454E',
			ak:'#8C4845',
			az:'#8C4845',
			ar:'#F2CA4E',
			ca:'#D95141',
			co:'#8C4845',
			ct:'#F2CA4E',
			de:'#F2CA4E',
			fl:'#F2CA4E',
			ga:'#F2CA4E',
			hi:'#37454E',
			id:'#8C4845',
			il:'#F2CA4E',
			in:'#37454E',
			ia:'#3BA48A',
			ks:'#8C4845',
			ky:'#37454E',
			la:'#37454E',
			ma:'#37454E',
			md:'#37454E',
			me:'#F2CA4E',
			mi:'#F2CA4E',
			mn:'#37454E',
			ms:'#F2CA4E',
			mo:'#37454E',
			mt:'#8C4845',
			ne:'#8C4845',
			nv:'#8C4845',
			nh:'#37454E',
			nj:'#37454E',
			nm:'#8C4845',
			ny:'#37454E',
			nc:'#37454E',
			nd:'#8C4845',
			oh:'#37454E',
			ok:'#8C4845',
			or:'#8C4845',
			pa:'#37454E',
			ri:'#37454E',
			sc:'#F2CA4E',
			sd:'#8C4845',
			tn:'#37454E',
			tx:'#8C4845',
			ut:'#8C4845',
			vt:'#37454E',
			va:'#F2CA4E',
			wa:'#8C4845',
			wv:'#37454E',
			wi:'#F2CA4E',
			wy:'#8C4845'
			},
			onLabelShow: function(event, label, code)
		{
			if (
				code == 'la' || 
				code == 'pa' || 
				code == 'ri' ||
				code == 'vt' ||
				code == 'wv'
				)
			{
				//label.text([code].name);
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): No Limit</div>');
			}
			else if (			
				code=='oh'
				) {
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 2,000,000</div>');
				}
			else if (			
				code=='al' ||
				code=='ga' ||
				code=='il' ||
				code=='id' ||
				code=='in' ||
				code=='ma' ||
				code=='mi' ||
				code=='mo' ||
				code=='nj' ||
				code=='ny' ||
				code=='nc' ||
				code=='sc' ||
				code=='wi'				
				) {
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 100,000</div>');
				}
			else if (
				code=='ct'||				
				code=='de'
				) {
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 50,000</div>');
				}
			else if (
				code=='ia'
				) {
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 25,000</div>');
				}
			else if (
				code=='me'||
				code=='nh'
				) {
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 20,000</div>');
				}
			else if (
				code=='ky'||
				code=='mn'||
				code=='tn'
				) {
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 10,000</div>');
				}
			else if (
				code=='ca'
				) {
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 8930</div>');
				}
			else if (
				code=='ar'
				) {
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 893</div>');
				}
			else if (
				code=='ak'
				) {
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 500</div>');
				}			
			 else {
				//event.preventDefault();
				//label.html('European Union, including ' + label.text());
				//label.text([code].name);
				label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 0</div>');
			}
		}/*,
			onRegionClick: function (event, code, region) {
			switch (code) {
				case "ak":myPillFilterSWT('Alaska');				
				 //$("#surfacewatermapWRD").append('<div class="module_holder">Prior appropriation</div>');				
				break;
				case "al":myPillFilterSWT('Alabama');
				break;
				case "ar":myPillFilterSWT('Arkansas');break;
				case "az":myPillFilterSWT('Arizona');break;
				case "ca":myPillFilterSWT('California');break;
				case "co":myPillFilterSWT('Colorado');break;
				case "ct":myPillFilterSWT('Connecticut');break;
				case "dc":myPillFilterSWT('District of Columbia');break;
				case "de":myPillFilterSWT('Delaware');break;
				case "fl":myPillFilterSWT('Florida');break;
				case "ga":myPillFilterSWT('Georgia');break;
				case "hi":myPillFilterSWT('Hawaii');break;
				case "ia":myPillFilterSWT('Iowa');break;
				case "id":myPillFilterSWT('Idaho');break;
				case "il":myPillFilterSWT('Illinois');break;
				case "in":myPillFilterSWT('Indiana');break;
				case "ks":myPillFilterSWT('Kansas');break;
				case "ky":myPillFilterSWT('Kentucky');break;
				case "la":myPillFilterSWT('Louisiana');break;
				case "ma":myPillFilterSWT('Massachusetts');break;
				case "md":myPillFilterSWT('Maryland');break;
				case "me":myPillFilterSWT('Maine');break;
				case "mi":myPillFilterSWT('Michigan');break;
				case "mn":myPillFilterSWT('Minnesota');break;
				case "mo":myPillFilterSWT('Missouri');break;
				case "ms":myPillFilterSWT('Mississippi');break;
				case "mt":myPillFilterSWT('Montana');break;
				case "nc":myPillFilterSWT('North Carolina');break;
				case "nd":myPillFilterSWT('North Dakota');break;
				case "ne":myPillFilterSWT('Nebraska');break;
				case "nh":myPillFilterSWT('New Hampshire');break;
				case "nj":myPillFilterSWT('New Jersey');break;
				case "nm":myPillFilterSWT('New Mexico');break;
				case "nv":myPillFilterSWT('Nevada');break;
				case "ny":myPillFilterSWT('New York');break;
				case "oh":myPillFilterSWT('Ohio');break;
				case "ok":myPillFilterSWT('Oklahoma');break;
				case "or":myPillFilterSWT('Oregon');break;
				case "pa":myPillFilterSWT('Pennsylvania');break;
				case "ri":myPillFilterSWT('Rhode Island');break;
				case "sc":myPillFilterSWT('South Carolina');break;
				case "sd":myPillFilterSWT('South Dakota');break;
				case "tn":myPillFilterSWT('Tennessee');break;
				case "tx":myPillFilterSWT('Texas');break;
				case "ut":myPillFilterSWT('Utah');break;
				case "va":myPillFilterSWT('Virginia');break;
				case "vt":myPillFilterSWT('Vermont');break;
				case "wa":myPillFilterSWT('Washington');break;
				case "wi":myPillFilterSWT('Wisconsin');break;
				case "wv":myPillFilterSWT('West Virginia');break;
				case "wy":myPillFilterSWT('Wyoming');break;
				}
			}
			*/
				
		});
		
		jQuery('#groundwatermap').vectorMap({		
			map: 'usa_en',
			backgroundColor: null,
			color: '#D1E7F1',
			enableZoom: true,
			showTooltip: true,
			//showLabels: true,
			selectedColor: null,
			borderColor: '#ffffff',
			hoverColor: null,
			colors: {
			al:'#718F9D',
			ak:'#8C4845',
			az:'#718F9D',
			ar:'#D95141',
			ca:'#D95141',
			co:'#8C4845',
			ct:'#37454E',
			de:'#F2CA4E',
			fl:'#718F9D',
			ga:'#37454E',
			hi:'#F2CA4E',
			id:'#8C4845',
			il:'#718F9D',
			in:'#37454E',
			ia:'#F2CA4E',
			ks:'#8C4845',
			ky:'#718F9D',
			la:'#37454E',
			ma:'#37454E',
			md:'#718F9D',
			me:'#37454E',
			mi:'#3BA48A',
			mn:'#F2CA4E',
			ms:'#37454E',
			mo:'#718F9D',
			mt:'#8C4845',
			ne:'#F2CA4E',
			nv:'#8C4845',
			nh:'#718F9D',
			nj:'#F2CA4E',
			nm:'#8C4845',
			ny:'#718F9D',
			nc:'#718F9D',
			nd:'#8C4845',
			oh:'#3BA48A',
			ok:'#8C4845',
			or:'#8C4845',
			pa:'#718F9D',
			ri:'#37454E',
			sc:'#718F9D',
			sd:'#8C4845',
			tn:'#718F9D',
			tx:'#37454E',
			ut:'#8C4845',
			vt:'#F2CA4E',
			va:'#718F9D',
			wa:'#8C4845',
			wv:'#718F9D',
			wi:'#3BA48A',
			wy:'#8C4845'			
			}/*,
			onRegionClick: function (event, code, region) {
			switch (code) {
				case "wy":window.location = "#modal-1716";break;
				}
			}*/
			,onLabelShow: function(event, label, code)
				{
					if (
						code == 'ri' ||				
						code == 'wv'
						)
					{
						//label.text([code].name);
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): No Limit</div>');
					}
					else if (			
						code=='oh'
						) {
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 2,000,000</div>');
						}
					else if (			
						code=='al' ||
						code=='ga' ||
						code=='il' ||				
						code=='in' ||
						code=='ma' ||
						code=='mi' ||
						code=='mo' ||
						code=='nj' ||
						code=='ny' ||
						code=='nc' ||
						code=='sc' ||
						code=='wi'				
						) {
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 100,000</div>');
						}
					else if (
						code=='az'||
						code=='ar'||
						code=='ct'||
						code=='de'||
						code=='la'||
						code=='mt'
						) {
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 50,000</div>');
						}
					else if (
						code=='ia'
						) {
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 25,000</div>');
						}
					else if (
						code=='me'||
						code=='nh'||
						code=='vt'
						) {
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 20,000</div>');
						}
					else if (
						code=='ky'||
						code=='mn'||
						code=='pa'||
						code=='tn'||
						code=='va'
						) {
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 10,000</div>');
						}
					else if (
						code=='ca'
						) {
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 8930</div>');
						}
					else if (
						code=='md'||
						code=='wa'
						) {
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 5000</div>');
						}
					else if (
						code=='ak'
						) {
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 500</div>');
						}			
					 else {
						//event.preventDefault();
						//label.html('European Union, including ' + label.text());
						//label.text([code].name);
						label.html('<h3>' + label.text() + '</h3>' + '<div>Permit/Reporting-Threshold (gpd): 0</div>');
					}
				}
		});
		
		jQuery('#uicHaz').vectorMap({		
			map: 'usa_en',
			backgroundColor: null,
			color: '#D1E7F1',
			enableZoom: true,
			showTooltip: true,
			//showLabels: true,
			selectedColor: null,
			borderColor: '#ffffff',
			hoverColor: null,
			colors: {
			al:'#F34848',
			ak:'#37AE33',
			az:'#F34848',
			ar:'#2B7FC4',
			ca:'#37AE33',
			co:'#37AE33',
			ct:'#F34848',
			de:'#F34848',
			fl:'#F34848',
			ga:'#2B7FC4',
			hi:'#37AE33',
			id:'#F34848',
			il:'#2B7FC4',
			in:'#37AE33',
			ia:'#37AE33',
			ks:'#2B7FC4',
			ky:'#37AE33',
			la:'#2B7FC4',
			ma:'#F34848',
			md:'#F34848',
			me:'#F34848',
			mi:'#37AE33',
			mn:'#37AE33',
			ms:'#2B7FC4',
			mo:'#F34848',
			mt:'#37AE33',
			ne:'#F34848',
			nv:'#F34848',
			nh:'#F34848',
			nj:'#F34848',
			nm:'#2B7FC4',
			ny:'#37AE33',
			nc:'#F34848',
			nd:'#2B7FC4',
			oh:'#2B7FC4',
			ok:'#2B7FC4',
			or:'#F34848',
			pa:'#37AE33',
			ri:'#F34848',
			sc:'#F34848',
			sd:'#37AE33',
			tn:'#F34848',
			tx:'#2B7FC4',
			ut:'#2B7FC4',
			vt:'#F34848',
			va:'#F34848',
			wa:'#F34848',
			wv:'#2B7FC4',
			wi:'#F34848',
			wy:'#2B7FC4'			
			}
			/*,
			onRegionClick: function (event, code, region) {
			switch (code) {
				case "wy":window.location = "#modal-1716";break;
				}
			}*/
		});
		
		jQuery('#uicNonHaz').vectorMap({		
			map: 'usa_en',
			backgroundColor: null,
			color: '#D1E7F1',
			enableZoom: true,
			showTooltip: true,
			//showLabels: true,
			selectedColor: null,
			borderColor: '#ffffff',
			hoverColor: null,
			colors: {
			al:'#F34848',
			ak:'#37AE33',
			az:'#37AE33',
			ar:'#2B7FC4',
			ca:'#37AE33',
			co:'#37AE33',
			ct:'#F34848',
			de:'#2B7FC4',
			fl:'#2B7FC4',
			ga:'#2B7FC4',
			hi:'#37AE33',
			id:'#F34848',
			il:'#2B7FC4',
			in:'#37AE33',
			ia:'#37AE33',
			ks:'#2B7FC4',
			ky:'#37AE33',
			la:'#2B7FC4',
			ma:'#F34848',
			md:'#2B7FC4',
			me:'#F34848',
			mi:'#37AE33',
			mn:'#37AE33',
			ms:'#2B7FC4',
			mo:'#F34848',
			mt:'#37AE33',
			ne:'#2B7FC4',
			nv:'#F34848',
			nh:'#2B7FC4',
			nj:'#2B7FC4',
			nm:'#2B7FC4',
			ny:'#37AE33',
			nc:'#F34848',
			nd:'#2B7FC4',
			oh:'#2B7FC4',
			ok:'#2B7FC4',
			or:'#F34848',
			pa:'#37AE33',
			ri:'#F34848',
			sc:'#F34848',
			sd:'#37AE33',
			tn:'#2B7FC4',
			tx:'#2B7FC4',
			ut:'#2B7FC4',
			vt:'#F34848',
			va:'#37AE33',
			wa:'#F34848',
			wv:'#2B7FC4',
			wi:'#F34848',
			wy:'#2B7FC4'			
			}
			/*,
			onRegionClick: function (event, code, region) {
			switch (code) {
				case "wy":window.location = "#modal-1716";break;
				}
			}
			*/
		});
		
		jQuery('#uicClass2').vectorMap({		
			map: 'usa_en',
			backgroundColor: null,
			color: '#D1E7F1',
			enableZoom: true,
			showTooltip: true,
			//showLabels: true,
			selectedColor: null,
			borderColor: '#ffffff',
			hoverColor: null,
			colors: {
			al:'#2B7FC4',
			ak:'#2B7FC4',
			az:'#37AE33',
			ar:'#2B7FC4',
			ca:'#2B7FC4',
			co:'#2B7FC4',
			ct:'#F34848',
			de:'#F34848',
			fl:'#37AE33',
			ga:'#2B7FC4',
			hi:'#37AE33',
			id:'#2B7FC4',
			il:'#2B7FC4',
			in:'#2B7FC4',
			ia:'#37AE33',
			ks:'#2B7FC4',
			ky:'#2B7FC4',
			la:'#2B7FC4',
			ma:'#F34848',
			md:'#2B7FC4',
			me:'#F34848',
			mi:'#37AE33',
			mn:'#37AE33',
			ms:'#2B7FC4',
			mo:'#2B7FC4',
			mt:'#2B7FC4',
			ne:'#2B7FC4',
			nv:'#2B7FC4',
			nh:'#2B7FC4',
			nj:'#2B7FC4',
			nm:'#2B7FC4',
			ny:'#37AE33',
			nc:'#F34848',
			nd:'#2B7FC4',
			oh:'#2B7FC4',
			ok:'#2B7FC4',
			or:'#2B7FC4',
			pa:'#37AE33',
			ri:'#F34848',
			sc:'#2B7FC4',
			sd:'#2B7FC4',
			tn:'#2B7FC4',
			tx:'#2B7FC4',
			ut:'#2B7FC4',
			vt:'#F34848',
			va:'#37AE33',
			wa:'#2B7FC4',
			wv:'#2B7FC4',
			wi:'#F34848',
			wy:'#2B7FC4'			
			}
			/*,
			onRegionClick: function (event, code, region) {
			switch (code) {
				case "al":window.location = "#modal-27";break;
				}
			}
			*/
		});
		
		var stateCodePositions = 
		  {
		  "HI": {
			"x": 326.5909,
			"y": 571.809504
		  },
		  "AK": {
			"x": 108.056376,
			"y": 508.661812
		  },
		  "FL": {
			"x": 754.9306750122784,
			"y": 496.13892259990513
		  },
		  "NH": {
			"x": 858.273048,
			"y": 132.090582
		  },
		  "MI": {
			"x": 651,
			"y": 184
		  },
		  "VT": {
			"x": 837.919636,
			"y": 124.99134828031387
		  },
		  "ME": {
			"x": 889.7453136698773,
			"y": 92.12132730418989
		  },
		  "RI": {
			"x": 876.450606370494,
			"y": 183.125196
		  },
		  "NY": {
			"x": 812.8376976678503,
			"y": 164.97002027104708
		  },
		  "PA": {
			"x": 782.6000970915588,
			"y": 208.7773102734416
		  },
		  "NJ": {
			"x": 836.6955141585858,
			"y": 214.69531214627045
		  },
		  "DE": {
			"x": 825.250017,
			"y": 251.907664
		  },
		  "MD": {
			"x": 798.824402,
			"y": 242.967393
		  },
		  "VA": {
			"x": 775.1021509847131,
			"y": 286.555516091326
		  },
		  "WV": {
			"x": 750.3190393092434,
			"y": 259.4085551904374
		  },
		  "OH": {
			"x": 703.7917685103017,
			"y": 234.96076975757396
		  },
		  "IN": {
			"x": 643.6855270960854,
			"y": 254.15542346885726
		  },
		  "IL": {
			"x": 595.3083465167095,
			"y": 254.00008046282022
		  },
		  "CT": {
			"x": 854.324255,
			"y": 176.17366653258463
		  },
		  "WI": {
			"x": 566.329534216415,
			"y": 157.3713814815865
		  },
		  "NC": {
			"x": 773.8200358812254,
			"y": 329.488481876757
		  },/*
		  "DC": {
			"x": 805.2075000000001,
			"y": 248.575
		  },*/
		  "MA": {
			"x": 863.870417,
			"y": 159.58860893333966
		  },
		  "TN": {
			"x": 658.753850678048,
			"y": 337.5023176125468
		  },
		  "AR": {
			"x": 539.5927335903888,
			"y": 371.0432323404463
		  },
		  "MO": {
			"x": 534.2280207156356,
			"y": 298.2507717934896
		  },
		  "GA": {
			"x": 716.7694135441192,
			"y": 402.0317482537276
		  },
		  "SC": {
			"x": 757.2122532921011,
			"y": 368.7438689420568
		  },
		  "KY": {
			"x": 662.3357461369104,
			"y": 303.1047097429061
		  },
		  "AL": {
			"x": 653.8716570194158,
			"y": 410.31362987047174
		  },
		  "LA": {
			"x": 542.1065032642587,
			"y": 454.07491711069906
		  },
		  "MS": {
			"x": 593.033562502455,
			"y": 415.64911787111754
		  },
		  "IA": {
			"x": 524.7178736562029,
			"y": 211.8512462972334
		  },
		  "MN": {
			"x": 515.6488439798509,
			"y": 117.8417070725155
		  },
		  "OK": {
			"x": 445.62066675369624,
			"y": 351.0785885587988
		  },
		  "TX": {
			"x": 407.84000000000003,
			"y": 436.49
		  },
		  "NM": {
			"x": 301.09569989543616,
			"y": 372.2718610378876
		  },
		  "KS": {
			"x": 443.76842889161657,
			"y": 291.3220488920981
		  },
		  "NE": {
			"x": 420.95076790265824,
			"y": 224.7863675044761
		  },
		  "SD": {
			"x": 419.9715443215115,
			"y": 161.03509523317177
		  },
		  "ND": {
			"x": 418.18941888386246,
			"y": 94.97928757916497
		  },
		  "WY": {
			"x": 301.21533637622565,
			"y": 181.2419355996737
		  },
		  "MT": {
			"x": 279.11041853595583,
			"y": 89.92494873289988
		  },
		  "CO": {
			"x": 323.7781705390495,
			"y": 272.3908477224708
		  },
		  "ID": {
			"x": 185.8607022809183,
			"y": 144.75558080203172
		  },
		  "UT": {
			"x": 224.1640265201877,
			"y": 250.5282904836319
		  },
		  "AZ": {
			"x": 204.2375537530424,
			"y": 360.2158498738335
		  },
		  "NV": {
			"x": 143.6346202549392,
			"y": 242.1119294845405
		  },
		  "OR": {
			"x": 93,
			"y": 127
		  },
		  "WA": {
			"x": 114.67910061353884,
			"y": 54.6995505992775
		  },
		  "CA": {
			"x": 69.9954332080572,
			"y": 277.7076074638756
		  }
		};
	
		var mapg= document.querySelector("#surfacewatermap g");
		var mapg2= document.querySelector("#groundwatermap g");
		var mapg3= document.querySelector("#uicHaz g");
		var mapg4= document.querySelector("#uicNonHaz g");
		var mapg5= document.querySelector("#uicClass2 g");
		
		  for (var i in stateCodePositions) {

			var textNode = document.createElementNS("http://www.w3.org/2000/svg", "text");

			textNode.setAttribute("x", stateCodePositions[i].x);
			textNode.setAttribute("y", stateCodePositions[i].y);
			//textNode.setAttribute("style", "fill:#fff;stroke:#fff;border:solid 1px #fff;padding:2px 5px");
			textNode.setAttribute("class", "abbr");
			textNode.textContent = i;
			mapg.appendChild(textNode);
		  }
		  for (var i in stateCodePositions) {

			var textNode = document.createElementNS("http://www.w3.org/2000/svg", "text");

			textNode.setAttribute("x", stateCodePositions[i].x);
			textNode.setAttribute("y", stateCodePositions[i].y);			
			textNode.setAttribute("class", "abbr");
			textNode.textContent = i;
			mapg2.appendChild(textNode);
		  }
		  for (var i in stateCodePositions) {

			var textNode = document.createElementNS("http://www.w3.org/2000/svg", "text");

			textNode.setAttribute("x", stateCodePositions[i].x);
			textNode.setAttribute("y", stateCodePositions[i].y);			
			textNode.setAttribute("class", "abbr");
			textNode.textContent = i;
			mapg3.appendChild(textNode);
		  }
		  for (var i in stateCodePositions) {

			var textNode = document.createElementNS("http://www.w3.org/2000/svg", "text");

			textNode.setAttribute("x", stateCodePositions[i].x);
			textNode.setAttribute("y", stateCodePositions[i].y);			
			textNode.setAttribute("class", "abbr");
			textNode.textContent = i;
			mapg4.appendChild(textNode);
		  }
		  for (var i in stateCodePositions) {

			var textNode = document.createElementNS("http://www.w3.org/2000/svg", "text");

			textNode.setAttribute("x", stateCodePositions[i].x);
			textNode.setAttribute("y", stateCodePositions[i].y);			
			textNode.setAttribute("class", "abbr");
			textNode.textContent = i;
			mapg5.appendChild(textNode);
		  }
		
		$(".showModal").fancybox();
		
		//$(myImge).load(function() {
		//	alert("will alert even in IE")
		//});

	});	
</script>
<script type="text/javascript">
$(window).bind("load", function() {

	$('#stateSummary').linkify({
			target: "_blank"
		});
});

</script>	
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-98272787-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>